# Dropdown 과제 문서

## 1. 요구 기능

#### 1) 핵심 기능

- 드롭다운 버튼 클릭시 선택창 펼쳐지고, 항목 선택하면 선택된 항목으로 텍스트 변경

#### 2) 부가 기능

- 키워드에 해당되는 목록 아이템만 보여주는 필터 기능 구현

## 2. 구현 과정

### 1) 기본 UI 구현

요구 기능을 구현하기 전에 기본적인 UI를 구현하는 작업

- 재사용성을 및 가독성을 높이기 위해 검색창인 `DropdownInput`컴포넌트와 `DropdownItem` 컴포넌트를 따로 구현
- `DropdownInput` 은 `placeholder`를 props로 전달받는 형태로 구현해 변경이 용이하도록 구현
- 드롭다운이 열렸을 때 자동으로 input에 focus 가도록 autofocus 적용

### 2) 드롭다운 / 선택 기능 구현

드롭다운 영역 클릭 시 선택 창 펼쳐지게 구현하고, 항목 선택시 드롭다운 영역에 표시된 텍스트를 선택된 텍스트로 변경되도록 구현하는 작업

- useState를 활용해 true/false 값에 따라 선택창이 보이거나, 보이지 않도록 구현
- 특정 항목 클릭해서 선택 시, 드롭다운 영역의 텍스트를 담고 있는 state 변수가 클릭된 항목의 텍스트로 변경되도록 구현

### 3) 키워드에 따른 필터링 구현

- input에 입력되는 텍스트를 저장할 받아줄 state 변수 `searchedItem` 선언하고, `searchedItem` 을 기준으로 목록 배열을 필터링 하는 방식으로 구현
- 과제 구현 예시를 보았을 때 목록 가장 상단에 위치한 `All Symbols`는 검색어와 무관하게 항상 보이는 것으로 판단하고 filter 함수에 조건을 추가해서 `All Symbols`가 입력된 검색키워드와 무관하게 항상 보이도록 구현
- 목록을 닫거나, 특정 항목 클릭해서 드롭다운 닫힐 때 filter링의 기준이 되는 searchItem 다시 빈 문자열로 초기화 해서 다시 드롭다운 열었을 때 목록 전체가 보이도록 구현

## 어려움

### 1) filter 시 `All Symbols` 는 항상 보이도록 구현

과제 구현 예시에 보니 가장 상단의 All Symbols는 검색키워드에 무관하게 고정으로 구현되어 있는 것으로 보여 그대로 구현하고자 노력하였습니다.

처음에는 배열 자체를 filter 함수 적용하기 전에 수정해서 filter 를 적용하고, 첫 번째 인덱스는 따로 렌더링 하는 방식으로 구현하였습니다. 하지만 filter 함수로 한 번에 처리하면 어떨까 하는 생각이 들어서 여러 방면으로 적절한 필터 조건을 주려고 노력하는 과정에서 시행착오를 많이 겪었습니다.

여러 방면으로 시도한 결과 id 값이 1 경우에 목록에 항상 포함하는 조건을 걸어서 문제를 해결할 수 있었습니다.

## 기타

아래의 항목들은 구현하는 과정에서, 또 문서를 정리하는 과정에서 요구된 기능 외적으로 추가하거나 수정한 내용입니다.

- 목록 길이가 길어질 때를 생각해서 container에 max-height 값을 지정하고, 넘어갈 경우 스크롤 할 수 있도록 구현
- 특정 항목 제목이 한 줄이 넘어갈 경우 줄바꿈 되어서 보이도록 구현
- 드롭다운 박스의 화살표 아이콘이 드롭다운 상태에 따라 변하도록 구현
