# Input 과제 문서

## 1. 요구 기능

#### 1) 핵심 기능

- 인풋창에 이메일과 비밀번호 입력이 가능하도록 구현

#### 2) 부가 기능

- 이메일 형식에 맞을 경우, 자동으로 체크 표시
- 비밀번호 입력란 우측 눈 아이콘 클릭 시 비밀번호 노출

## 2. 구현 과정

### 1) 기본 UI 구현

검증 로직 및 비밀번호 노출 로직 구현 전 기본 UI 구현하는 작업

- 기본적인 input 형태로 구현
- 이메일 체크표시 및 비밀번호 표시 아이콘은 `position: relative/absolute`을 주는 형태로 구현

### 2) 이메일 검증 로직 및 관련 스타일링 구현

이메일 형태를 검증하여 통과하면 체크표시 스타일을 변경하고, 통과하지 못하면 에러메세지를 띄우는 작업

- 이메일 검증은 정규식으로 진행
- 검증결과를 저장할 state 변수 선언(오류메시지가 처음에는 보이지 않도록 default 값은 false 가 아닌 빈 문자열로 선언)
- email input 에 `onChange` 속성을 통해 입력되는 값을 가져와 정규식과 비교해서 검증을 통과하면 state 값을 true로 설정

#### fix

- 이메일을 최초 입력 후에, 다시 다 지웠을 때 오류 메세지가 보이지 않도록 수정

### 3) 이메일 검증에 debounce 적용

이메일 검증 로직에 debounce 기능을 추가해 입력이 일정 시간 없을 때만 검증이 진행되도록 하는 작업

- `debounce.js` 파일에 debounce 기능을 수행하는 함수 `debounce` 생성
- 검증을 진행하는 함수 `validateEmail` 을 `debounce` 에 넣어 실행하여 입력이 0.5초 이상 없을 때만 검증이 진행되도록 구현

### 4) 비밀번호 보이기 기능 구현

아이콘 클릭 시 비밀번호 보이도록 표시 및 다른 아이콘으로 변화시키는 작업

- 비밀번호를 입력하는 input 의 type 속성 값을 담는 state 변수 `pwType`에 담고, 아이콘 클릭 시에 `pwType`을 'password' / 'text'로 변경시키는 방식으로 구현
- 엣지 및 익스플로러에서 default로 뜨는 눈 모양 아이콘을 보이지 않게 하는 코드 추가(index.css)

## 어려움

### 1) 이메일 체크표시 및 비밀번호 표시 아이콘 구현

처음에는 placeholder에 해당 아이콘을 넣으려고 여러 방면으로 시도하였습니다. 하지만 placeholder에는 원래 텍스트만 입력하는 것이 의도에 맞는 구현 방식이라는 점과, placeholder는 텍스트 입력 시작시 사라진다는 점에서 다른 방법을 찾아야했습니다.

앞선 과제에서 익숙해졌던 `position: relative/absolute`를 활용해서 구현할 수 있었습니다.

### 2) 이메일 검증 정규식 이해

이메일을 검증할 때 특정 형태의 정규식을 활용한 다는 것은 알고 있었지만, 형태에 대한 이해가 없는 상태였습니다. 최근들어 코드를 한 줄을 쓰더라도 제대로 알고 쓰자라는 생각을 많이 하고 있어 정규식에 대해서 이해하고 직접 만들어서 사용해보고자 노력하였습니다.

정규식을 공부한 후에, 다음 규칙을 세워서 직접 정규식을 만들어보았습니다.

```javascript
(아이디) @ (도메인) . (도메인이름)

아이디: 문자(대소 둘다 가능), 숫자, `.` , `-` 사용 가능
도메인: 문자(대소 둘다 가능), 숫자, `-` 사용가능, `.`은 허락하지 않음
도메인 이름: 문자 사용 가능(최소 2개 최대 10개 문자 허락)

문자 및 숫자는 반복될 수 있음
```

이에 따른 정규식입니다.

> /^([a-zA-Z\d.-]+)@([a-zA-Z\d-]+)\.([a-z]{2,10})$/

### 3) debounce 코드 이해

예전에 input에 사용자가 입력하는 값을 기반으로 state를 업데이트하거나 api를 불러오는 등 지속적인 변화를 기반으로 특정 작업을 수행할 때 debounce 라는 기능을 사용해서 불필요한 자원이 소모되는 것을 막는 것이 좋다는 것을 본 적이 있습니다.

이번 과제에도 검증이 계속 이루어지기 보다는, 입력이 어느정도 완성된 이후에 이루어지는 것이 더 적합한 구현 방식일 듯 해서 debounce 기능에 대해 찾아보고 코드를 적용하였습니다.

다만, debounce 기능을 가능케 해주는 클로저 등에 대해 완전히 이해하지 못한 상태에서 사용한 것이 아쉽습니다.
